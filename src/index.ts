/**
 * Tawk Agents SDK
 * 
 * Production-ready AI agent framework built on Vercel AI SDK.
 * Enterprise-grade multi-agent orchestration with comprehensive observability.
 * 
 * @packageDocumentation
 * @module tawk-agents-sdk
 * @author Tawk.to
 * @license MIT
 * @version 1.0.0
 * 
 * @example Basic Agent
 * ```typescript
 * import { Agent, run } from 'tawk-agents-sdk';
 * import { openai } from '@ai-sdk/openai';
 * 
 * const agent = new Agent({
 *   name: 'Assistant',
 *   model: openai('gpt-4o'),
 *   instructions: 'You are a helpful assistant.'
 * });
 * 
 * const result = await run(agent, 'Hello!');
 * console.log(result.finalOutput);
 * ```
 * 
 * @example Multi-Agent System
 * ```typescript
 * const specialist = new Agent({ name: 'Specialist', ... });
 * const coordinator = new Agent({
 *   name: 'Coordinator',
 *   subagents: [specialist]
 * });
 * 
 * const result = await run(coordinator, 'Complex task');
 * ```
 * 
 * @see {@link https://github.com/Manoj-tawk/tawk-agents-sdk Documentation}
 */

// ============================================
// CORE AGENT & EXECUTION
// ============================================

export {
  // Agent class
  Agent,
  
  // Run functions
  run,
  runStream,
  
  // Tool function
  tool,
  
  // Utilities
  setDefaultModel,
  
  // Types
  type AgentConfig,
  type CoreTool,
  type RunContextWrapper,
  type RunOptions,
  type RunResult,
  type StreamResult,
} from './core/agent';

// Runner with streaming
export { AgenticRunner, type StreamEvent } from './core/runner';

// Usage tracking
export { Usage } from './core/usage';

// Transfers system
export { 
  createTransferTools, 
  detectTransfer, 
  createTransferContext,
} from './core/transfers';
export type { TransferResult } from './core/transfers';

// Run state management
export { RunState } from './core/runstate';
export type {
  RunItem,
  RunItemType,
  RunMessageItem,
  RunToolCallItem,
  RunToolResultItem,
  ModelResponse,
} from './core/runstate';

// ============================================
// TRACING & OBSERVABILITY
// ============================================

// Tracing context
export {
  withTrace,
  getCurrentTrace,
  getCurrentSpan,
  setCurrentSpan,
  createContextualSpan,
  createContextualGeneration,
  runWithTraceContext,
} from './tracing/context';

// Langfuse initialization
export { 
  initializeLangfuse as initLangfuse, 
  getLangfuse, 
  isLangfuseEnabled 
} from './lifecycle/langfuse';

// ============================================
// GUARDRAILS
// ============================================

export {
  // Core guardrails
  lengthGuardrail,
  piiDetectionGuardrail,
  customGuardrail,
  
  // Advanced guardrails (optional)
  contentSafetyGuardrail,
  topicRelevanceGuardrail,
  sentimentGuardrail,
  toxicityGuardrail,
  languageGuardrail,
  rateLimitGuardrail,
} from './guardrails';

export type {
  Guardrail,
  GuardrailResult,
} from './core/agent';

// ============================================
// SESSION MANAGEMENT
// ============================================

export {
  SessionManager,
  MemorySession,
} from './sessions';

export type {
  Session,
} from './sessions';

// ============================================
// HELPERS & UTILITIES
// ============================================

// Message helpers
export { 
  user, 
  assistant, 
  system, 
  toolMessage, 
  getLastTextContent, 
  filterMessagesByRole, 
  extractAllText 
} from './helpers/message';

// Safe execution
export { 
  safeExecute 
} from './helpers/safe-execute';

export type { 
  SafeExecuteResult 
} from './helpers/safe-execute';

// ============================================
// LIFECYCLE HOOKS
// ============================================

export { 
  AgentHooks, 
  RunHooks 
} from './lifecycle';

export type { 
  AgentHookEvents, 
  RunHookEvents 
} from './lifecycle';

// ============================================
// TYPE UTILITIES
// ============================================

export type {
  Expand,
  DeepPartial,
  Prettify,
  UnwrapPromise,
} from './types/helpers';
